# 计算机网络-Introduction(HIT)

期中考试教室 3C203 3A105 3A103 3A107

## Author:Haihan Gao

计算机网络=通信技术+计算机技术

通信系统=信源+发送设备+信道+接收设备+信宿（噪声）

计算机网络：互连+自治的计算机集合

自治-无主从关系

互连-互连互通

## 计算机网络的结构

### 网络边缘

* 主机
  * 位于网络边缘
  * 运行网络应用
  * 通信模型
    * 客户-服务器模型
    * 对等应用
* 网络应用

### 接入网络

* 物理介质
* 将网络边缘接入核心网
* 带宽：数据传输速度
* 独占 or 共享
* DSL多路复用技术，利用已有的电话网络，分离数据信号和声音信号
  * 上行速率/下行速率
* 电缆网络
* 无线接入网络
  * 通过基站或称为接入点

### 网络核心

* 互联的路由器
* 功能=路由+转发（路由表）
* 网络之网络
* 实现的基本问题，将数据从源主机发送到目的主机

## Internet网络-网络之网络

* 端系统通过接入ISP连接到Internet
* 接入ISP必须进一步互连
* 构成复杂的网络互连的网络
* 可选方案，连接为多个ISP，将ISP连接起来
* 加上IXP互连交换节点
* regional net
* 内容提供商网络

## 计算机网络的体系结构

分层结构有利于我们管理网络系统

* 网络体系结构是功能上描述计算机网络的结构
* 分层结构，每次遵循某个协议
* 计算机网络体系结构是计算机网络的各层和协议的集合

### 为什么采用分层协议

* 结构清晰，有利于识别复杂系统部件
* 模块化分层易于维护
* 有利于标准化
* 分层协议的不利之处
  * 分层过多，效率降低

### 分层结构基本概念

上层是n+1层，下层是n层

* 实体：任何可以发送或接收信息的硬件和软件
* 协议是定义同层之间两个对等协议之间进行通信的规则的集合，协议是**水平的**
* 相邻层，存在上层使用下层实体提供的服务，遵循本层协议，实现本层功能，向上层提供的服务，存在服务和被服务的关系，服务和被服务是**垂直的**
* 下层协议的实现对上层是透明的
* 层与层之间的接口：通过服务访问点，交换原语，指定请求的特定服务**理解为系统调用**

## OSI参考模型

* 支持异构互联网络互联互通
* 网络互联的标准
* 市场失败，理论成功
* 7层模型
  * 物理层
  * 数据链路层
  * 网络层
  * 传输层，下面四个层次称为端到端
  * 会话层
  * 表示层
  * 应用层
* 主机要完成7层，中间系统完成三层

![image-20201110200612258](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20201110200612258.png)

实线是真正数据的流向，某层看是直接从某层到达对等层

![image-20201110201013884](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20201110201013884.png)

PDU：协议数据包

### 为什么要加数据头？为什么进行数据封装？

* 增加控制信息
  * 构造协议数据单元
* 控制信息包括
  * 地址信息：标识发送端，接收端
  * 差错检测编码，可选
  * 协议控制，协议实现的其它信息

### 非端到端层次的功能

#### 物理层

再具体的介质上完成比特传输

* 接口特性
  * 机械特性
  * 电气特性，电器水平的定义
  * 功能特性，引脚的功能
  * 规程特性，过程
* 比特编码
* 数据传输速率
  * 时钟同步
* 传输模式
  * 单工：单向传输
  * 半双工：双向通信交叉进行
  * 全双工：双向可以同时进行

#### 数据链路层

* 负责物理介质直接相连的两个物理设备之间直接的数据传输，结点-结点
* 数据以帧的形式传输
* 解析帧的头尾信息
* 组帧
  * 加头加尾
  * 为什么要组帧？确定比特流中一个独立的帧
  * 确定帧的头部与尾部信息
* 物理寻址，物理地址无法在物理层寻址，必须在数据链路层寻址
  * 在帧头增加发送端、接收端的物理地址标识数据
  * 问题：数据链路层解决的是相邻结点数据发送，还需要物理地址确定接收地址吗
    * 广播通信导致多方接收
    * 帧头的地址确定接收主机的地址
* 流量控制
  * 避免接收方被淹没
* 差错控制
  * 编码控制差错
* 访问/接入控制
  * 指定哪个设备在链路层拥有控制权（共享物理链路）

#### 网络层

* 源主机-目的主机 数据分组的交付
  * 穿越多个网络
  * 不能采用物理地址
  * 需要使用全局唯一的逻辑寻址
    * 全局唯一逻辑地址，称为IP地址
* 路由
  * 选路
* 分组转发
* 数据传递过程中，源主机-目的主机IP不变

### 端到端层次的功能

#### 传输层功能

负责端到端 进程间完整报文传输

* 分段与重组
* SAP寻址
  * 确保完整报文提交给正确的进程
* 连接控制
  * 逻辑连接
* 流量控制
* 差错控制

#### 会话层

* 对话管理
* 不会对上层的报文进行分隔，插入一些同步控制点
  * 数据传输出现以外只需要恢复到最近一个数据控制点

### TCP/IP参考协议

* 应用层 HTTP
* 运输层 everything over IP TCP/UDP
* 网际层 IPover everything
* 网络接口层

## 计算机网络性能

### 速率

数据率数据传输速率，比特率

* 比特率
* 计算机网络重要的性能指标
* k=$10^3$ M=$10^6$

### 带宽

* 通信领域 带宽指的是信号最高频率-最低频率
* 数字信道所能传输的最大数据率

### 时延

* 分组交换产生丢包和时延
  * 数组分组到达路由器
  * 决定转发方式
  * 进入发送队列传输
* 可用缓存满：丢包
* delay：分组排队
* 四种分组延迟
  * 结点处理延迟
    * 差错处理
    * 确定输出链路
    * 比较小
  * 排队延迟
    * 等待输出链路可用
    * 衡量路由器拥塞程度
    * 不好估计
  * 传输延迟
    * 开始传输一个分组，第一个bit到最后一个bit
    * 与分组长度，链路带宽有关
  * 传播延迟
    * 物理链路长度
    * 信号传播速度

### 时延带宽积

传播延迟乘以带宽

以比特为单位的链路长度

### 数据丢失（丢包）

丢包率=丢包数/总发包数

### 吞吐量

发送端到接收端传输数据速率

* 即时吞吐量
* 平均吞吐量
* 木板原理，瓶颈链路

